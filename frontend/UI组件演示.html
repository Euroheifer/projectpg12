<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UIç»„ä»¶åº“æ¼”ç¤º</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="js/components.css">
    <link rel="stylesheet" href="js/search.css">
    <style>
        .demo-section {
            margin: 2rem 0;
            padding: 2rem;
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius-lg);
            background-color: var(--color-bg-secondary);
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .demo-component {
            padding: 1rem;
            background-color: var(--color-bg-primary);
            border-radius: var(--border-radius-md);
            text-align: center;
        }
        
        .code-example {
            background-color: var(--color-bg-tertiary);
            padding: 1rem;
            border-radius: var(--border-radius-md);
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.875rem;
            overflow-x: auto;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="navbar-brand">
            <span>ğŸ’¡</span>
            <span>UIç»„ä»¶åº“æ¼”ç¤º</span>
        </div>
        <div class="navbar-nav">
            <a href="#components">ç»„ä»¶</a>
            <a href="#theme">ä¸»é¢˜</a>
            <a href="#search">æœç´¢</a>
        </div>
    </nav>

    <div class="container">
        <!-- ç»„ä»¶æ¼”ç¤ºåŒºåŸŸ -->
        <section id="components" class="demo-section">
            <h2>ğŸ§© UIç»„ä»¶åº“</h2>
            <p>ç»Ÿä¸€çš„UIç»„ä»¶ç³»ç»Ÿï¼Œæ”¯æŒçŠ¶æ€ç®¡ç†ã€äº‹ä»¶ç³»ç»Ÿå’Œæ— éšœç¢è®¿é—®</p>
            
            <div class="demo-grid">
                <!-- æŒ‰é’®ç»„ä»¶ -->
                <div class="demo-component">
                    <h4>æŒ‰é’®ç»„ä»¶</h4>
                    <button id="demo-button" class="btn btn-primary">ç‚¹å‡»æµ‹è¯•</button>
                </div>
                
                <!-- è¡¨å•ç»„ä»¶ -->
                <div class="demo-component">
                    <h4>è¡¨å•ç»„ä»¶</h4>
                    <form id="demo-form">
                        <div class="form-group">
                            <input type="text" class="form-input" placeholder="è¾“å…¥å†…å®¹" required>
                        </div>
                        <button type="submit" class="btn btn-secondary">æäº¤</button>
                    </form>
                </div>
                
                <!-- å¡ç‰‡ç»„ä»¶ -->
                <div class="demo-component">
                    <h4>å¡ç‰‡ç»„ä»¶</h4>
                    <div id="demo-card"></div>
                </div>
                
                <!-- æ¨¡æ€æ¡†ç»„ä»¶ -->
                <div class="demo-component">
                    <h4>æ¨¡æ€æ¡†ç»„ä»¶</h4>
                    <button id="demo-modal-btn" class="btn btn-outline">æ‰“å¼€æ¨¡æ€æ¡†</button>
                    <div id="demo-modal"></div>
                </div>
                
                <!-- åŠ è½½æŒ‡ç¤ºå™¨ -->
                <div class="demo-component">
                    <h4>åŠ è½½æŒ‡ç¤ºå™¨</h4>
                    <div id="demo-loading"></div>
                </div>
                
                <!-- ç©ºçŠ¶æ€ -->
                <div class="demo-component">
                    <h4>ç©ºçŠ¶æ€</h4>
                    <div id="demo-empty"></div>
                </div>
            </div>
        </section>

        <!-- ä¸»é¢˜ç³»ç»Ÿæ¼”ç¤º -->
        <section id="theme" class="demo-section">
            <h2>ğŸ¨ ä¸»é¢˜ç³»ç»Ÿ</h2>
            <p>æ”¯æŒäº®è‰²/æš—é»‘ä¸»é¢˜åˆ‡æ¢ï¼Œç³»ç»Ÿä¸»é¢˜æ£€æµ‹å’Œè‡ªå®šä¹‰ä¸»é¢˜</p>
            
            <div class="demo-grid">
                <div class="demo-component">
                    <h4>ä¸»é¢˜åˆ‡æ¢</h4>
                    <p>å½“å‰ä¸»é¢˜: <span id="current-theme">è‡ªåŠ¨æ£€æµ‹</span></p>
                    <button id="toggle-theme" class="btn btn-outline">åˆ‡æ¢ä¸»é¢˜</button>
                </div>
                
                <div class="demo-component">
                    <h4>ä¸»é¢˜çŠ¶æ€</h4>
                    <div id="theme-status">
                        <p>ç³»ç»Ÿä¸»é¢˜: <span id="system-theme">æ£€æµ‹ä¸­...</span></p>
                        <p>å­˜å‚¨ä¸»é¢˜: <span id="saved-theme">æ— </span></p>
                    </div>
                </div>
                
                <div class="demo-component">
                    <h4>é¢œè‰²ç¤ºä¾‹</h4>
                    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <div style="width: 20px; height: 20px; background: var(--color-primary); border-radius: 4px;"></div>
                        <div style="width: 20px; height: 20px; background: var(--color-success); border-radius: 4px;"></div>
                        <div style="width: 20px; height: 20px; background: var(--color-warning); border-radius: 4px;"></div>
                        <div style="width: 20px; height: 20px; background: var(--color-error); border-radius: 4px;"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- æœç´¢åŠŸèƒ½æ¼”ç¤º -->
        <section id="search" class="demo-section">
            <h2>ğŸ” æœç´¢åŠŸèƒ½</h2>
            <p>å…¨å±€æœç´¢ã€å®æ—¶è¿‡æ»¤ã€é«˜çº§ç­›é€‰å™¨å’Œæœç´¢å†å²ç®¡ç†</p>
            
            <!-- æœç´¢æ¡†å°†åœ¨è¿™é‡Œè‡ªåŠ¨ç”Ÿæˆ -->
            <div id="search-demo-container" style="margin: 2rem 0;">
                <h4>æœç´¢æ¼”ç¤º</h4>
                <p>å°è¯•æœç´¢: "ç¾¤ç»„", "è´¹ç”¨", "æ´»åŠ¨" ç­‰å…³é”®è¯</p>
            </div>
            
            <div class="demo-grid">
                <div class="demo-component">
                    <h4>æœç´¢ç»Ÿè®¡</h4>
                    <div id="search-stats">
                        <p>å†å²è®°å½•: <span id="history-count">0</span></p>
                        <p>æ”¶è—æœç´¢: <span id="favorites-count">0</span></p>
                    </div>
                </div>
                
                <div class="demo-component">
                    <h4>ç­›é€‰å™¨æµ‹è¯•</h4>
                    <button id="test-filters" class="btn btn-outline">åº”ç”¨æµ‹è¯•ç­›é€‰</button>
                </div>
            </div>
        </section>

        <!-- é€šçŸ¥æ¼”ç¤º -->
        <section class="demo-section">
            <h2>ğŸ”” é€šçŸ¥ç³»ç»Ÿ</h2>
            <p>ä¸åŒç±»å‹çš„é€šçŸ¥æ¶ˆæ¯ï¼Œæ”¯æŒè‡ªåŠ¨å…³é—­å’Œæ‰‹åŠ¨å…³é—­</p>
            
            <div class="demo-grid">
                <div class="demo-component">
                    <h4>æˆåŠŸé€šçŸ¥</h4>
                    <button id="notify-success" class="btn btn-success">æ˜¾ç¤ºæˆåŠŸ</button>
                </div>
                
                <div class="demo-component">
                    <h4>é”™è¯¯é€šçŸ¥</h4>
                    <button id="notify-error" class="btn btn-danger">æ˜¾ç¤ºé”™è¯¯</button>
                </div>
                
                <div class="demo-component">
                    <h4>è­¦å‘Šé€šçŸ¥</h4>
                    <button id="notify-warning" class="btn btn-warning">æ˜¾ç¤ºè­¦å‘Š</button>
                </div>
                
                <div class="demo-component">
                    <h4>ä¿¡æ¯é€šçŸ¥</h4>
                    <button id="notify-info" class="btn btn-primary">æ˜¾ç¤ºä¿¡æ¯</button>
                </div>
            </div>
        </section>
    </div>

    <!-- JavaScriptæ–‡ä»¶ -->
    <script src="js/components.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/search.js"></script>
    
    <script>
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–æ¼”ç¤º
        document.addEventListener('DOMContentLoaded', function() {
            initializeDemo();
        });

        function initializeDemo() {
            // åˆå§‹åŒ–UIç»„ä»¶
            initializeComponents();
            
            // åˆå§‹åŒ–ä¸»é¢˜ç³»ç»Ÿ
            initializeTheme();
            
            // åˆå§‹åŒ–æœç´¢åŠŸèƒ½
            initializeSearch();
            
            // åˆå§‹åŒ–é€šçŸ¥ç³»ç»Ÿ
            initializeNotifications();
            
            // æ›´æ–°ä¸»é¢˜çŠ¶æ€æ˜¾ç¤º
            updateThemeStatus();
            
            // æ›´æ–°æœç´¢ç»Ÿè®¡
            updateSearchStats();
        }

        function initializeComponents() {
            // æŒ‰é’®ç»„ä»¶æ¼”ç¤º
            const demoButton = document.getElementById('demo-button');
            const button = new Button(demoButton, {
                text: 'ç‚¹å‡»æµ‹è¯•',
                variant: 'primary',
                onClick: () => {
                    Notification.show({
                        type: 'info',
                        title: 'æŒ‰é’®ç‚¹å‡»',
                        message: 'æŒ‰é’®ç»„ä»¶å·¥ä½œæ­£å¸¸!'
                    });
                }
            });

            // è¡¨å•ç»„ä»¶æ¼”ç¤º
            const demoForm = document.getElementById('demo-form');
            const form = new Form(demoForm, {
                onSubmit: (data) => {
                    Notification.show({
                        type: 'success',
                        title: 'è¡¨å•æäº¤',
                        message: `æäº¤å†…å®¹: ${JSON.stringify(data)}`
                    });
                }
            });

            // å¡ç‰‡ç»„ä»¶æ¼”ç¤º
            const demoCard = document.getElementById('demo-card');
            const card = new Card(demoCard, {
                title: 'ç¤ºä¾‹å¡ç‰‡',
                collapsible: true
            });
            card.setContent(`
                <p>è¿™æ˜¯ä¸€ä¸ªå¯æŠ˜å çš„å¡ç‰‡ç»„ä»¶ã€‚</p>
                <p>ç‚¹å‡»å¡ç‰‡æ ‡é¢˜å¯ä»¥å±•å¼€æˆ–æ”¶èµ·å†…å®¹ã€‚</p>
            `);

            // æ¨¡æ€æ¡†æ¼”ç¤º
            const modalElement = document.getElementById('demo-modal');
            const modal = new Modal(modalElement, {
                title: 'æ¼”ç¤ºæ¨¡æ€æ¡†',
                closable: true,
                footer: '<button class="btn btn-primary" id="modal-ok">ç¡®å®š</button>'
            });
            
            modal.setContent(`
                <p>è¿™æ˜¯ä¸€ä¸ªæ¨¡æ€æ¡†ç»„ä»¶æ¼”ç¤ºã€‚</p>
                <p>æ”¯æŒå¤šç§é…ç½®é€‰é¡¹å’Œäº‹ä»¶å¤„ç†ã€‚</p>
            `);

            const modalBtn = document.getElementById('demo-modal-btn');
            modalBtn.addEventListener('click', () => {
                modal.open();
            });

            // æ¨¡æ€æ¡†ç¡®å®šæŒ‰é’®
            setTimeout(() => {
                const modalOk = document.getElementById('modal-ok');
                if (modalOk) {
                    modalOk.addEventListener('click', () => {
                        modal.close();
                    });
                }
            }, 100);

            // åŠ è½½æŒ‡ç¤ºå™¨æ¼”ç¤º
            const demoLoading = document.getElementById('demo-loading');
            const loading = new LoadingIndicator(demoLoading, {
                type: 'spinner',
                text: 'åŠ è½½ä¸­...'
            });
            
            // 3ç§’åéšè—åŠ è½½æŒ‡ç¤ºå™¨
            setTimeout(() => {
                loading.hide();
                Notification.show({
                    type: 'success',
                    title: 'åŠ è½½å®Œæˆ',
                    message: 'åŠ è½½æŒ‡ç¤ºå™¨æ¼”ç¤ºå®Œæˆ!'
                });
            }, 3000);

            // ç©ºçŠ¶æ€æ¼”ç¤º
            const demoEmpty = document.getElementById('demo-empty');
            const emptyState = new EmptyState(demoEmpty, {
                icon: 'ğŸ“',
                title: 'æš‚æ— æ•°æ®',
                description: 'è¿™é‡Œè¿˜æ²¡æœ‰ä»»ä½•å†…å®¹',
                action: {
                    text: 'æ·»åŠ å†…å®¹',
                    onClick: () => {
                        Notification.show({
                            type: 'info',
                            title: 'æ“ä½œæç¤º',
                            message: 'è¿™æ˜¯ç©ºçŠ¶æ€ç»„ä»¶çš„äº¤äº’æ¼”ç¤º!'
                        });
                    }
                }
            });
        }

        function initializeTheme() {
            // ä¸»é¢˜åˆ‡æ¢æ¼”ç¤º
            const toggleThemeBtn = document.getElementById('toggle-theme');
            toggleThemeBtn.addEventListener('click', () => {
                window.themeManager.toggleTheme();
                updateThemeStatus();
            });

            // ç›‘å¬ä¸»é¢˜å˜åŒ–
            window.themeManager.onThemeChange(() => {
                updateThemeStatus();
            });
        }

        function initializeSearch() {
            // å°†æœç´¢æ¡†æ·»åŠ åˆ°æ¼”ç¤ºå®¹å™¨
            const searchContainer = document.querySelector('.search-container');
            const demoContainer = document.getElementById('search-demo-container');
            if (searchContainer && demoContainer) {
                demoContainer.appendChild(searchContainer);
            }
        }

        function initializeNotifications() {
            // é€šçŸ¥æ¼”ç¤ºæŒ‰é’®
            const notifyButtons = {
                success: document.getElementById('notify-success'),
                error: document.getElementById('notify-error'),
                warning: document.getElementById('notify-warning'),
                info: document.getElementById('notify-info')
            };

            notifyButtons.success.addEventListener('click', () => {
                Notification.show({
                    type: 'success',
                    title: 'æ“ä½œæˆåŠŸ',
                    message: 'æ‚¨çš„æ“ä½œå·²æˆåŠŸå®Œæˆ!'
                });
            });

            notifyButtons.error.addEventListener('click', () => {
                Notification.show({
                    type: 'error',
                    title: 'æ“ä½œå¤±è´¥',
                    message: 'æ“ä½œè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œè¯·é‡è¯•ã€‚'
                });
            });

            notifyButtons.warning.addEventListener('click', () => {
                Notification.show({
                    type: 'warning',
                    title: 'è­¦å‘Šæç¤º',
                    message: 'è¯·æ³¨æ„ï¼Œæ“ä½œéœ€è¦è°¨æ…ã€‚'
                });
            });

            notifyButtons.info.addEventListener('click', () => {
                Notification.show({
                    type: 'info',
                    title: 'ä¿¡æ¯æç¤º',
                    message: 'è¿™æ˜¯ä¸€æ¡ä¿¡æ¯æç¤ºæ¶ˆæ¯ã€‚'
                });
            });
        }

        function updateThemeStatus() {
            const currentTheme = window.themeManager.getCurrentTheme();
            const systemTheme = window.themeManager.detectSystemTheme();
            const savedTheme = localStorage.getItem('theme');

            document.getElementById('current-theme').textContent = currentTheme;
            document.getElementById('system-theme').textContent = systemTheme;
            document.getElementById('saved-theme').textContent = savedTheme || 'æ— ';
        }

        function updateSearchStats() {
            const history = new window.SearchHistory();
            const favorites = new window.SearchFavorites();

            document.getElementById('history-count').textContent = history.getHistory().length;
            document.getElementById('favorites-count').textContent = favorites.getFavorites().length;
        }

        // ç­›é€‰å™¨æµ‹è¯•
        document.getElementById('test-filters').addEventListener('click', () => {
            window.searchManager.filters = {
                status: 'completed',
                dateRange: {
                    start: new Date('2024-01-01'),
                    end: new Date('2024-12-31')
                }
            };
            
            Notification.show({
                type: 'info',
                title: 'ç­›é€‰å™¨å·²åº”ç”¨',
                message: 'å·²è®¾ç½®çŠ¶æ€ç­›é€‰å’Œæ—¥æœŸèŒƒå›´ç­›é€‰'
            });
        });
    </script>
</body>
</html>