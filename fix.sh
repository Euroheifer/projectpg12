sudo apt update && sudo apt install nginx -y && sudo systemctl start nginx && sudo systemctl enable nginx && PROJECT_PATH="/home/sadm/projectpg12" && sudo chown -R www-data:www-data "$PROJECT_PATH" && find "$PROJECT_PATH" -type d -exec chmod 755 {} \; && find "$PROJECT_PATH" -type f -exec chmod 644 {} \; && cd "$PROJECT_PATH" && mkdir -p ssl && openssl req -x509 -newkey rsa:4096 -keyout ssl/key.pem -out ssl/cert.pem -days 365 -nodes -subj "/C=CN/ST=State/L=City/O=Organization/CN=172.25.76.174" 2>/dev/null && sudo chmod 600 ssl/key.pem && sudo chmod 644 ssl/cert.pem && sudo mkdir -p /etc/nginx/sites-enabled && sudo tee /etc/nginx/sites-available/expense-manager > /dev/null << 'EOF' && echo "server { listen 8443 ssl http2; server_name 172.25.76.174; ssl_certificate /home/sadm/projectpg12/ssl/cert.pem; ssl_certificate_key /home/sadm/projectpg12/ssl/key.pem; ssl_protocols TLSv1.2 TLSv1.3; root /home/sadm/projectpg12/frontend; index index.html; location = / { try_files /index.html =404; } location / { try_files $uri $uri/ /index.html; } location = /favicon.ico { log_not_found off; access_log off; return 204; } access_log /var/log/nginx/expense-manager.log; error_log /var/log/nginx/expense-manager-error.log; }" > /etc/nginx/sites-available/expense-manager && sudo ln -sf /etc/nginx/sites-available/expense-manager /etc/nginx/sites-enabled/ && sudo nginx -t && sudo systemctl restart nginx && echo "ğŸ‰ å®‰è£…å®Œæˆï¼è®¿é—®: https://172.25.76.174:8443/"
